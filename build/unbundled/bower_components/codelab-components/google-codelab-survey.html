<html><head><link rel="import" href="../polymer/polymer.html"><link rel="import" href="../iron-localstorage/iron-localstorage.html"><link rel="import" href="../paper-radio-button/paper-radio-button.html"><link rel="import" href="../paper-radio-group/paper-radio-group.html"><link rel="import" href="shared-style.html"></head><body><dom-module id="google-codelab-survey"><template strip-whitespace=""><style include="shared-style">:host{display:block;margin:2em 0;padding:0;background:var(--google-codelab-survey-background, #edf4ff);border-left:var(--google-codelab-survey-border, 4px solid #94BAF9);}.survey > ::content h4{font-weight:500;font-size:16px;padding:0.8em 0.6em 0 20px;margin:0;}.survey > ::content paper-radio-group{padding:0.4em 0 1.1em 30px;}.survey > ::content paper-radio-button{display:block;padding:4px 0;}</style><iron-localstorage name="{{_storageKey(surveyId)}}" value="{{answers}}" on-iron-localstorage-load-empty="_initAnswers" on-iron-localstorage-load="_storageLoaded"></iron-localstorage><div class="survey"><content></content></div></template><script>Polymer({is:'google-codelab-survey',properties:{surveyId:{type:String,value:''},answers:{type:Object,notify:!0}},listeners:{click:'_onClick'},ready:function(){for(var c,a=Polymer.dom(this).queryDistributedElements('paper-radio-group'),b=0;c=a[b];b++)this._selectAnswer(c)},_initAnswers:function(){this.answers={}},_storageKey:function(a){return'codelab-survey-'+a},_storageLoaded:function(){for(var d,a=this.getContentChildren(),b='',c=0;d=a[c];c++){if('H4'===d.tagName){b=this.answers[this._elemText(d)];continue}b&&d.select&&this._selectAnswer(d,b)}},_selectAnswer:function(a,b){for(var d,c=0;d=a.children[c];c++)d.name||(d.name=this._elemText(d)),d.name===b&&a.select(b)},_onClick:function(a){if(a=Polymer.dom(a),'PAPER-RADIO-BUTTON'===a.localTarget.tagName){var b=a.localTarget.parentElement.previousElementSibling;if(b&&'H4'===b.tagName){var c=this._elemText(b),d=a.localTarget.name;this.set('answers.'+c,d),this.fire('google-codelab-survey-answer',{question:c,answer:d})}}},_elemText:function(a){return a.textContent.trim().replace(/\n|\r/g,'')}});</script></dom-module></body></html>